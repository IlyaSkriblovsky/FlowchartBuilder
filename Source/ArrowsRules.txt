если длина среднего звена меньше константы
то удаляем это звено

если происходит перемещение и один конец над вершиной, а другой под ним
то ориентируемся так, чтобы среднее звено было вертикально и не пересекало
   эту вершину

если происходит перемещение и один слева от вершины, а другой справа
то ориентируемся так, чтобы среднее звено было горизонтально и не пересекало
   эту вершину

если какой-либо из концов перемещают слишком близко к вершине
то не даем этому концу переместиться слишком близко к вершине

если среднее звено перемещают слишком близко к вершине
то не даем этому звену переместиться слишком близко к вершине


если стрелочка прикреплена хотя бы одним концом и ее можно заменить на стрелочку
     с двумя вершинами, не меняя координат концов
то заменяем ее

если стрелочка ничем не прикрплена
то заменяем ее на стрелочку с четыремя вершинами

если стрелочка имеет две вешины
то ориентируем ее в соответствии с полюсами вершин, к которым она прикреплена
